<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Accédez à votre espace personnel Auduj pour saisir vos parties Marvel Rivals, consulter vos statistiques détaillées et analyser votre progression.">
    <title>Tableau de Bord - Auduj | Suivi Stats Marvel Rivals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script>
        // Configuration Tailwind
        tailwind.config = {
             theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], heading: ['Bangers', 'cursive'] },
                    colors: { 'marvel-red': '#e62429', 'marvel-blue': '#007bff', 'marvel-yellow': '#ffc107', 'dark-bg': '#1a202c', 'light-text': '#e2e8f0', 'card-bg': '#2d3748', 'input-bg': '#4a5568', 'win': '#48bb78', 'loss': '#f56565' }
                }
            }
        };
    </script>
    <style>
        /* Styles CSS (inchangés, sauf la couleur de police input si modifiée précédemment) */
        .font-heading { font-family: 'Bangers', cursive; letter-spacing: 1px; }
        body { font-family: 'Inter', sans-serif; }
        .btn-marvel { @apply inline-block px-6 py-3 rounded-lg text-white font-semibold tracking-wide shadow-md transition duration-300 ease-in-out transform hover:-translate-y-1; }
        .btn-red { @apply bg-marvel-red hover:bg-red-700; }
        .btn-blue { @apply bg-marvel-blue hover:bg-blue-700; }
        .btn-logout { @apply bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg text-sm; }
        /* Mettez ici la couleur de texte souhaitée (noir ou gris clair) */
        .form-input-dash { @apply w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-black placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-marvel-blue focus:border-transparent text-sm; } /* text-black ou text-gray-100 */
        .form-label-dash { @apply block mb-1 text-xs font-medium text-gray-300; }
        .stat-card { @apply bg-card-bg p-4 rounded-lg shadow-lg text-center; }
        .stat-value { @apply text-3xl font-bold text-marvel-yellow mb-1; }
        .stat-label { @apply text-sm text-gray-400; }
        .tab-button { @apply px-4 py-2 rounded-t-lg font-semibold transition duration-300; }
        .tab-button.active { @apply bg-card-bg text-marvel-yellow; }
        .tab-button:not(.active) { @apply text-gray-400 hover:bg-gray-700 hover:text-light-text; }
        .tab-content { @apply p-4 bg-card-bg rounded-b-lg rounded-tr-lg; }
    </style>
</head>
<body class="bg-dark-bg text-light-text">

    <header class="bg-card-bg shadow-lg sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="index.html" class="text-3xl font-heading text-marvel-red">Auduj</a>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="index.html" class="hover:text-marvel-yellow transition duration-300">Accueil</a>
                <a href="how-it-works.html" class="hover:text-marvel-yellow transition duration-300">Comment Ça Marche ?</a>
                <a href="features.html" class="hover:text-marvel-yellow transition duration-300">Fonctionnalités</a>
                <a href="guides.html" class="hover:text-marvel-yellow transition duration-300">Guides</a>
                <a href="about.html" class="hover:text-marvel-yellow transition duration-300">À Propos</a>
                <a href="contact.html" class="hover:text-marvel-yellow transition duration-300">Contact</a>
                <div id="user-info" class="items-center space-x-4 hidden"> <span id="user-greeting" class="text-sm text-gray-300"></span>
                    <button id="logout-button" class="btn-logout">
                        <i class="fas fa-sign-out-alt mr-1"></i> Déconnexion
                    </button>
                </div>
                 <a href="login.html" id="login-button-header" class="btn-marvel btn-blue hidden">Connexion</a> </div>
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-light-text focus:outline-none"> <i class="fas fa-bars fa-lg"></i> </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-card-bg">
             <a href="index.html" class="block px-4 py-2 text-sm hover:bg-gray-700">Accueil</a>
            <a href="how-it-works.html" class="block px-4 py-2 text-sm hover:bg-gray-700">Comment Ça Marche ?</a>
            <a href="features.html" class="block px-4 py-2 text-sm hover:bg-gray-700">Fonctionnalités</a>
            <a href="guides.html" class="block px-4 py-2 text-sm hover:bg-gray-700">Guides</a>
            <a href="about.html" class="block px-4 py-2 text-sm hover:bg-gray-700">À Propos</a>
            <a href="contact.html" class="block px-4 py-2 text-sm hover:bg-gray-700">Contact</a>
            <a href="login.html" id="mobile-login-link" class="block px-4 py-2 text-sm font-semibold text-marvel-blue hover:bg-gray-700 hidden">Connexion</a>
            <span id="mobile-user-greeting" class="block px-4 py-2 text-sm text-gray-400 hidden"></span>
            <button id="mobile-logout-button" class="w-full text-left block px-4 py-2 text-sm text-marvel-red hover:bg-gray-700 hidden">Déconnexion</button>
        </div>
    </header>

    <main id="dashboard-content" class="container mx-auto px-6 py-12 md:py-16 hidden">
            <h1 class="text-4xl md:text-5xl font-heading text-center mb-10 text-marvel-red drop-shadow-md">Votre Tableau de Bord Auduj</h1>
            <p class="text-lg text-center mb-12 max-w-3xl mx-auto text-gray-300">Saisissez vos dernières parties, consultez vos statistiques globales et plongez dans les analyses détaillées.</p>

            <section id="saisie-partie" class="mb-12 bg-card-bg p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-heading mb-4 text-marvel-yellow"><i class="fas fa-pencil-alt mr-2"></i>Saisir une Nouvelle Partie</h2>
                <form id="game-entry-form" action="#" method="POST">
                     <div id="entry-feedback" class="mb-4 text-center hidden"></div>
                      <div class="grid grid-cols-2 gap-4 mb-4">
                        <div> <label for="hero" class="form-label-dash">Héros Joué</label> <select id="hero" name="hero" class="form-input-dash" required><option value="">Chargement...</option></select> </div>
                        <div> <label for="map" class="form-label-dash">Map</label> <select id="map" name="map" class="form-input-dash" required><option value="">Chargement...</option></select> </div>
                      </div>
                      <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-4">
                        <div> <label for="kills" class="form-label-dash">Kills</label> <input type="number" id="kills" name="kills" min="0" class="form-input-dash" placeholder="0" required> </div>
                        <div> <label for="deaths" class="form-label-dash">Deaths</label> <input type="number" id="deaths" name="deaths" min="0" class="form-input-dash" placeholder="0" required> </div>
                        <div> <label for="assists" class="form-label-dash">Assists</label> <input type="number" id="assists" name="assists" min="0" class="form-input-dash" placeholder="0" required> </div>
                        <div> <label for="damage_dealt" class="form-label-dash">Dégâts Infligés</label> <input type="number" id="damage_dealt" name="damage_dealt" min="0" class="form-input-dash" placeholder="0"> </div>
                        <div> <label for="healing_done" class="form-label-dash">Soins Effectués</label> <input type="number" id="healing_done" name="healing_done" min="0" class="form-input-dash" placeholder="0"> </div>
                      </div>
                     <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-4 items-end">
                         <div> <label for="damage_mitigated" class="form-label-dash">Dégâts Bloqués</label> <input type="number" id="damage_mitigated" name="damage_mitigated" min="0" class="form-input-dash" placeholder="0"> </div>
                         <div> <label for="objective_score" class="form-label-dash">Score Objectif</label> <input type="number" id="objective_score" name="objective_score" min="0" class="form-input-dash" placeholder="0"> </div>
                         <div> <label for="result" class="form-label-dash">Résultat</label> <select id="result" name="result" class="form-input-dash" required><option value="">Choisir...</option><option value="win" class="text-win">Victoire</option><option value="loss" class="text-loss">Défaite</option><option value="draw">Égalité</option></select> </div>
                         <div class="md:col-span-2">
                            <div class="grid grid-cols-3 gap-4 items-end">
                                <div class="col-span-2">
                                    <label for="notes" class="form-label-dash">Notes (Optionnel)</label> <input type="text" id="notes" name="notes" class="form-input-dash" placeholder="Ex: Bon focus sur healer adverse">
                                </div>
                                <div>
                                     <button type="submit" class="btn-marvel btn-red w-full"> <i class="fas fa-save mr-1"></i> Enregistrer </button>
                                </div>
                            </div>
                         </div>
                     </div>
                </form>
            </section>

            <section class="mb-12">
                <h2 class="text-2xl font-heading mb-4 text-marvel-yellow"><i class="fas fa-chart-bar mr-2"></i>Aperçu Global</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="stat-card"> <div id="stat-kda" class="stat-value">-.--</div> <div class="stat-label">KDA Global</div> </div>
                     <div class="stat-card"> <div id="stat-winrate" class="stat-value">--%</div> <div class="stat-label">Taux de Victoire</div> </div>
                     <div class="stat-card"> <div id="stat-total-games" class="stat-value">0</div> <div class="stat-label">Parties Jouées</div> </div>
                     <div class="stat-card"> <div id="stat-main-hero" class="stat-value text-xl truncate" title="Héros Principal">N/A</div> <div class="stat-label">Héros Principal</div> </div>
                </div>
            </section>

            <section>
                 <h2 class="text-2xl font-heading mb-4 text-marvel-yellow"><i class="fas fa-search-plus mr-2"></i>Analyses Détaillées</h2>
                 <div class="mb-4 border-b border-gray-700"> <nav class="-mb-px flex space-x-1" aria-label="Tabs"> <button class="tab-button active" data-tab="progression">Progression</button> <button class="tab-button" data-tab="par-heros">Par Héros</button> <button class="tab-button" data-tab="par-map">Par Map</button> <button class="tab-button" data-tab="historique">Historique Parties</button> </nav> </div>
                 <div>
                     <div class="tab-content" data-tab-content="progression">
                         <h3 class="text-xl font-semibold mb-4 text-light-text">Votre Progression (KDA par Partie)</h3>
                         <div class="bg-card-bg p-4 rounded">
                             <canvas id="progressionChart"></canvas>
                         </div>
                         <p class="text-sm text-gray-500 mt-2">Affiche l'évolution de votre KDA calculé pour chaque partie enregistrée.</p>
                     </div>
                     <div class="tab-content hidden" data-tab-content="par-heros"> </div>
                     <div class="tab-content hidden" data-tab-content="par-map"> </div>
                     <div class="tab-content hidden" data-tab-content="historique"> </div>
                 </div>
            </section>

    </main> <footer class="bg-card-bg text-gray-400 py-8 mt-16">
        <div class="container mx-auto px-6 text-center">
             <p class="mb-4">&copy; 2025 Auduj - Tous droits réservés.</p>
              <div class="space-x-4 mb-4"> <a href="about.html" class="hover:text-marvel-yellow">À Propos</a> <a href="contact.html" class="hover:text-marvel-yellow">Contact</a> <a href="#" class="hover:text-marvel-yellow">Politique de Confidentialité</a> <a href="#" class="hover:text-marvel-yellow">Conditions d'Utilisation</a> </div> <div class="space-x-4"> <a href="#" aria-label="Twitter" class="hover:text-marvel-blue"><i class="fab fa-twitter fa-lg"></i></a> <a href="#" aria-label="Discord" class="hover:text-indigo-500"><i class="fab fa-discord fa-lg"></i></a> <a href="#" aria-label="Reddit" class="hover:text-orange-500"><i class="fab fa-reddit-alien fa-lg"></i></a> </div> <p class="mt-4 text-sm">Auduj n'est pas affilié à Marvel ou aux développeurs de Marvel Rivals.</p>
         </div>
    </footer>

    <script src="assets/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="assets/js/supabase-integration.js"></script>

    <script>
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabName = button.getAttribute('data-tab');
                tabButtons.forEach(btn => btn.classList.remove('active', 'bg-card-bg', 'text-marvel-yellow'));
                button.classList.add('active', 'bg-card-bg', 'text-marvel-yellow');
                tabContents.forEach(content => {
                    if (content.getAttribute('data-tab-content') === tabName) {
                        content.classList.remove('hidden');
                    } else {
                        content.classList.add('hidden');
                    }
                });
            });
        });
    </script>
</body>
</html>
